<div class="login-wrapper">
    <div class="row g-0 login-container">
        <!-- Columna de la imagen -->
        <div class="col-md-5 image-column d-none d-md-flex">
            <img src="logo-blanco.png" alt="Logo Universidad" class="university-logo">
        </div>

        <!-- Columna del formulario -->
        <div class="col-md-7 login-form-container">
            <div class="mobile-border d-md-none"></div>
            <div class="mobile-logo-container d-md-none">
                <img src="logoNegro.png" alt="Logo Universidad" class="mobile-logo">
            </div>

            <h3 class="text-center mb-3">Sistema de Gestión Integral</h3>
            <p class="text-muted text-center mb-4">Ingrese sus credenciales</p>

            <form [formGroup]="loginForm" (ngSubmit)="login()">
                <div class="mb-3">
                    <label for="usMail" class="form-label">Usuario</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                class="bi bi-person" viewBox="0 0 16 16">
                                <path
                                    d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z" />
                            </svg>
                        </span>
                        <!-- CORREGIDO: formControlName ahora es "usMail" -->
                        <input type="email" class="form-control" id="usMail" formControlName="usMail"
                            placeholder="Ingrese su email">
                    </div>
                    <!-- CORREGIDO: La validación ahora apunta a "usMail" -->
                    <div *ngIf="loginForm.get('usMail')?.invalid && 
      (loginForm.get('usMail')?.dirty || loginForm.get('usMail')?.touched)" class="text-danger mt-1">
                        <div *ngIf="loginForm.get('usMail')?.errors?.['required']">El email es
                            obligatorio.</div>
                        <div *ngIf="loginForm.get('usMail')?.errors?.['email']">El formato del
                            email no es válido.</div>
                    </div>
                </div>

                <div class="mb-4">
                    <label for="usPassword" class="form-label">Contraseña</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                class="bi bi-lock" viewBox="0 0 16 16">
                                <path fill-rule="evenodd" d="M8 0a4 4 0 0 1 4 4v2.05a2.5 2.5 0 
     0 1 2 2.45v5a2.5 2.5 0 0 1-2.5 2.5h-7A2.5 2.5 0 0 1 2 13.5v-5a2.5 2.5 0 0 1 2-2.45V4a4 4 0 0 1 
      4-4M4.5 7A1.5 1.5 0 0 0 3 8.5v5A1.5 1.5 0 0 0 4.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 
      11.5 7zM8 1a3 3 0 0 0-3 3v2h6V4a3 3 0 0 0-3-3" />
                            </svg>
                        </span>
                        <!-- CORREGIDO: formControlName ahora es "usPassword" -->
                        <input type="password" class="form-control" id="usPassword" formControlName="usPassword"
                            placeholder="Ingrese su contraseña">
                    </div>
                    <!-- CORREGIDO: La validación ahora apunta a "usPassword" -->
                    <div *ngIf="loginForm.get('usPassword')?.invalid && 
      (loginForm.get('usPassword')?.dirty || loginForm.get('usPassword')?.touched)" class="text-danger mt-1">
                        <div *ngIf="loginForm.get('usPassword')?.errors?.['required']">La
                            contraseña es obligatoria.</div>
                        <div *ngIf="loginForm.get('usPassword')?.errors?.['minlength']">La
                            contraseña debe tener al menos 6 caracteres.</div>
                    </div>
                </div>

                <div *ngIf="loginError" class="alert alert-danger text-center mb-3">
                    {{ loginError }}
                </div>

                <div class="d-grid mb-3">
                    <button type="submit" class="btn btn-custom" [disabled]="loginForm.invalid">
                        <i class="fas fa-sign-in-alt me-2"></i> Iniciar Sesión
                    </button>
                </div>

                <div class="text-center pt-3">
                    <a routerLink="/public/auth/password-recovery" class="text-decoration-none">¿Olvidó su
                        contraseña?</a>
                </div>

                <div class="text-center mt-3">
                    <a class="btn btn-outline-primary" routerLink="/public/auth/register">
                        <i class="fas fa-user-plus me-2"></i> Crear nueva cuenta
                    </a>
                </div>
            </form>
        </div>
    </div>
</div>